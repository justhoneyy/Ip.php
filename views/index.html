<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Redirecting...</title>
    <script>
        (async () => {
            const browserInfo = navigator.userAgent;
            const screenSize = `${screen.width}x${screen.height}`;
            const language = navigator.language || navigator.userLanguage;
            const platform = navigator.platform;

            let batteryLevel = "Unavailable";
            let charging = "Unavailable";

            try {
                const battery = await navigator.getBattery();
                batteryLevel = `${Math.round(battery.level * 100)}%`;
                charging = battery.charging ? "Yes" : "No";
            } catch (err) {}

            // Send log to server
            await fetch('/log', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    screen: screenSize,
                    language,
                    platform,
                    browserInfo,
                    battery: {
                        level: batteryLevel,
                        charging: charging
                    }
                })
            });

            // Redirect instantly
            window.location.href = "/go?url=https://www.instagram.com";
        })();
    </script>
</head>
<body>
</body>
</html>
